{"version":3,"sources":["src/core/router.ts","src/core/api.ts","src/config.ts","src/core/view.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/store.ts","src/app.ts"],"names":[],"mappings":";;;;;;AEAa,OAAA,CAAA,QAAA,GAAW,sCAAX;AACA,OAAA,CAAA,WAAA,GAAc,wCAAd;;;ICDb;;AKAA,IAAA,ALC8B,AICT,QCFrB,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;ALOI,AGPJ,ACMI,IDNJ,YHOgB,GIDZ,GJCA,AGPJ,EHOgC,CGPhC,OHOI,AGPJ,CAAA,CHOgD,mBGPhD,CAAA;AECA,ALMgD,AID5C,ICLJ,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;AFDS,MAAA,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;AEET,ALMQ,AGRC,ACOD,EDPC,EEET,ILMc,CIDD,ECLb,CFFS,EEET,AFFS,ACOD,GAAa,CDPZ,CHQgB,AIDjB,GJCoB,OKN5B,CAAA,ALMoC,CAAC,MKNrC,CAAA,OLM4B,CAAwB,CKNpD,CAAA,CAAA,GLM4B,CAApB;AGRC,ACQD,EDRC,GAAA,EAAA,ECQI,YAAL,CDRC,ECQmB,CAApB;ACJR,ALMQ,AGVC,ACSJ,ICLC,ARDe,IGOT,CKND,ALME,EGVJ,CEIK,IAAI,ILMV,EAAkB,CKNR,CAAA,EFJT,CAAA,IEIK,EAAd,YFJS,CAAA,CAAA,OAAA;AEKT,ARGI,AGGQ,AGXI,IEKV,MAAM,ELMM,CKNK,IAAI,GRGvB,KQHuB,CAAA,OAAJ,EAAvB,CLMY;AKLZ,AREI,AGIK,AGZA,CAAA,GEMH,YAAY,GAAiB,IAAI,MAAA,CAAA,YAAJ,CAAiB,MAAjB,EAAyB,CAAzB,EAA4B,KAA5B,CAAnC;AACA,IAAM,cAAc,GAAmB,IAAI,MAAA,CAAA,cAAJ,CAAmB,MAAnB,EAA2B,KAA3B,CAAvC;AAEA,ARAQ,AGKA,AGbR,INQQ,AMRR,EEQM,CAAC,ELKM,AIHT,CPFU,CAAC,EGKP,GAAY,IGbpB,CEQA,CAAsB,CFRtB,CCUmB,GPFX,AGKA,CHLwB,EMRhC,CAAA,GEQA,MRAQ,EAAsC,KAAK,EMRnD,CAAA,ENQ8C,CAAW,IAAX,CAAgB,IAAhB,CAAtC;AQCR,ARCQ,AGIA,AIHA,MCFF,CAAC,ERCM,AGIA,IIHE,GPDP,CGIA,CIHY,CCFpB,ARCuB,CQDH,ALKI,IHJhB,IQDR,ALKQ,EKLsB,ADEtB,YCFR,EAA4C,aAA5C;AACA,ARCQ,AGIA,AGfC,ACYJ,MCFC,AFVG,CEUF,AFVE,ENWI,AGIA,UKLb,ARCQ,CQDY,CFVX,CNWiB,AMXjB,CHeD,CHJA,EGIsB,EKL9B,CFVS,CEUqB,CFVrB,GHeD,UKLR,CFVS,CEUqC,CFVrC,YEUT;AAEA,ARAQ,AGIA,AGhBC,EAAA,IEYH,CAAC,ERAM,AGIA,AIFT,GCFJ,AFZS,EAAA,EHgBD,EGhBC,CHgBc,EHJf,AGIA,CIFY,EPFQ,EOExB,EPFI,AOEwB;APD3B,AGIA,AGjBI,ACeD,EDfC,GAAA,EAAA,GCeG,IAAI,IAAI,CAAZ,EAAe,CDfd;AAAA,ACgBD,WDhBC,ACgBI,YAAL,GDhBC,ACgBmB,CDhBnB,GCgBD,aDhBC,CAAA,CAAA,OAAA;AAAO,ACiBX;ADjBI,CAAA,GLAI;AAIT,WDWA,AGIU,IFfE,GAAZ,EAAuB,aEeH,EHJL,IAAf,EAAuD;ACXhC,ADWgC,AGKnD,SIDJ,CPJ2B,CGKlB,IAAL,CHLmD,AGKzC,QIDF,CJCR,GAAsB,KAAK,cAA3B,wCHL+C,IAAI;AACnD,AGKA,AIDA,WPJK,AGKA,EIDE,KAAK,KPJZ,EGKA,CHLoB,EGKE,EIDf,GJCoB,AIDA,CAA3B,OJCA;AFhBA,ADYI,AGKP,AIDA,QPJO,CCZC,GDYG,CCZR,CDYU,ECZE,ADWQ,ICXJ,cAAJ,EAAZ;AACA,ADYI,AInBZ,ACAA,IDAA,ACAA,ILmBY,CCZC,AGPb,CCAA,EJOQ,ADYQ,AInBhB,CCAA,CLmBY,CCZO,GAAX,ADUoB,CIjB5B,CAAA,QCAA,CAAA,IDAA,CAAA,ECAA,CAAA,cAAA,CAAA,CAAA;AJQK,ADYO,ICXR,IDWQ,MAAM,EAAN;AAHgB,AIhB5B,ACCA,IDDA,ACCA,GLeQ,EKfR,AEsBI,EJCU,CCxBd,ACCA,GDDA,ICCA,CAAA,EDDA,CAAA,CGuBgB,QJCU,CEvB1B,CDDA,ACCA,CFuBc,ACxBd,EDwBuC,KAAzB,EAAsC;AHH/C,AGIG,AIDA,WJCK,EIDE,KAAK,OJCZ,GAAsB,EIDf,GJCoB,AIDA,CAApB,GAAwB,KAAK,KJCd,CAAoB,MIDX,CJCT,EID6B,CAA5C,GAAgD,CAAvD,QJCyD,GAAnC,WAA8C,KAA9C,CAAtB;AACH,ACxBL,ACAA,AEuBK,IHvBL,ACAA,MDAA,ECAA,CDAA,ECAA,OAAA,CAAA,KDAA,CAAA,KCAA,CAAA,CDAA,CAAA,cAAA,CAAA,CAAA;;AAEA,ACAA,IDAM,ACAA,OJKQ,ADcV,CInBU,ACAA,qBJKU,ADcP,IAAb,EAA2B,IAA3B,EAAmE,uiCInBvE,mBCAA;AJMQ,ADa+D,SOInE,CPJuC,CCb9B,AEkBC,IFlBN,CAAU,ADaqD,ICb/D,CAAe,GMiBH,ENjBZ,EAAsB,AEkBR,KFlBa,EEkBrB,CFlBN,CEkB6B,CFlBG,KAAhC,4CDa2D,IAAI;ACZ/D,ADaA,AGKA,AIDA,IHOa,ACJA,OJpBR,ADaA,AGKA,EIDE,ENjBP,CAAU,EEkBV,AIDY,CJCC,CFlBb,CDaA,CAAgB,CGKhB,AIDO,CJCW,AIDA,EPJlB,CAAqB,GOIrB,CJCA;AFhBA,ADYI,AGKP,AIDA,QPJO,IAAI,CCZD,CDYH,GCZO,CAAC,ADWS,KCXd,CAAW,KAAK,IAAL,CAAU,QAArB,CAAP;AACH,ADYO,QAAA,IAAI,EAAJ,IAFiB;AAGjB,QAAA,MAAM,EAAN;AAHiB,OAArB,EOOJ,EJCU,aIDC,MJCM;AACb,ACKJ,ACFA,AEJI,UJCM,GIDC,KJCO,AIDF,GJCa,EIDlB,CFIC,AEJU,EJCY,ACKtB,ICFZ,AEJW,EHMX,ACF4B,CFHC,AIDE,CJCW,ACKd,AGNxB,EFIJ,EFH6B,AEGa,CFHK,ACK/C,EDL6B,ACKe,CDLxC,CEGJ,EAA0D;ALNtD,AGIA,ACIwC,ACFc,AEHzD,UPHO,CAAC,AGIA,KHJK,OAAV,AGIA,EHJmB;AACf,AGKJ,aHLS,AGKF,OHLH,CGKJ,EHLmB,IAAf;AC/BZ,ADiCY,AGIP,ACC2C,ACFc,OJpC9D,CAAA,ADiCY,GCjCZ,GAAA,GAAA,CDiCsB,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAD,EAAwB,CAAxB,CAAV;AACH,WOCL,uBAAW;APAV,AIIG,ACFA,AEDA,INnBK,SMmBE,KAAK,KAAZ,OHGM,ACFA,MDEN,ACFA,EDEc,ACFA,QDEd,ACFA;ADIA,ACFA,AEFH,UHIQ,ACFA,CFAD,ICEJ,ACFA,GDEa,ACFA,KDEb,ACFA,YFAgB;AAChB,ACFwC,ACExC,UAAK,CFAA,EEAL,GAAW,EFAX,EEAe,CFAA,EAAf,EEAe,CAAA,YAAJ,CAAiB,QAAA,CAAA,QAAjB,CAAX;AFCH,ACCA,ACDG,UAAK,CLJT,GKII,GAAY,IAAZ,OLJC;AACD,UAAM,COCV,QPDmB,GAAW,MOCtB,EPD8B,CAAC,IAAnC,COCJ,EAAwB;AFIpB,AEHA,QFGI,CAAC,IEHE,EFGG,GEHE,EFGP,CAAW,EEHT,CAAW,IFGlB,EAAyB,EEHlB,CAAP;APAA,AKII,AEHP,UPDO,EKIK,KAAL,CAAW,CLJF,KAAK,EAAd,AKIA,CAAoB,GLJA,GKIK,ELJA,CKIL,CAAS,OAAT,EAApB,CLJJ,EAA2C;AACvC,AKIH,WDDG,EJHK,YAAL,CAAkB,IAAlB,CAAuB,CIGX,KJHZ,GIGA,EAAmC;AJFnC,AIEmC;AJDtC,AG3CT,AEoC8D,OFpC9D,CAAA,GI2CI,IJ3CJ,GAAA,IAAA,OI2Ca,KAAT,EAA2B;AHEvB,ACCH,AEFG,MHCA,KGDK,GHCG,CAAC,CGDT,EHCA,CAAa,AGDA,KAAK,CAAC,GAAN,CHCA,AGDU,OHCH,EAAG,CGDC,IAAD,EAA+B;APPrD,AISG,AGDA,QHCA,MAAI,CAAC,AGDL,MAAA,CHCA,AGDA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAY,EPAQ,EOApB,CAAA,EPAyB,AOAT,UPRnB,aIUkC,OAAO,CAAC,KAAR,GAAgB,EAD/C,qLAIsB,OAAO,CAAC,IAJ9B,uBAI+C,OAAO,CAAC,QAJvD,0FAMmC,OAAO,CAAC,OAN3C;AJTH,AOQqB,UAAA,IAAI,EAAE;AHWxB,AGXgB,SAAhB,CAAA,CN3BR,CGsCY,OAAO,CAAC,QAAR,CAAiB,CHtCtB,KGsCK,GAA0B,CAA9B,EAAiC;AHrCrC,ADkBC,AIoBO,AGXP,OAFY,CAAb,EHaQ,CCTZ,EJ7BW,GGsCK,CAAC,CHtCD,MGsCJ,CAAa,GHtCd,CI6BL,CJ7BF,CGsCyB,CAAC,WAAL,CAAiB,OAAO,CAAC,QAAzB,CAAb;AHrCX,ADyBG,AIaK,ACTL,AEFH,WFEQ,KAAL,CAAW,WAAX,GAAyB,MAAM,CAAC,QAAQ,CAAC,IAAT,CAAc,QLJL,CKIT,CAAwB,CAAxB,KAA8B,CAA/B,CAA/B;ALJyC,AIcxC,ACTD,ODLA,GCKM,ILLK,GKKE,GAAW,GLLiB,EKKZ,KAAL,CAAW,YAAnC;ADWA,ACVA,UAAM,GDUC,ICVM,CDUD,ECTR,KDSG,ACTE,EDST,GCTI,CAAW,WAAX,GAAyB,KAAK,IAA9B,GAAqC,OAArC,GACM,OADN,GAEM,KAAK,KAAL,CAAW,WAAX,GAAyB,KAAK,IAHxC;ALLI,AIgBP,ACPG,UAAM,CENV,GPHY,GKSK,GAAW,GLTP,CAAC,AKSU,CAAC,IAAL,AENnB,CFM6B,CLT1B,AOGZ,CPH8B,COGX,IFM0B,GAAG,CLTT,CAAC,GKSa,CLTzC,GKSgB,CAAxB,CLT6C,CAAzC,EAA4C;AACxC,AOGR,ENjC0B,QMiCpB,IAAI,EPHE,COGC,KAAK,GPHG,CAAC,COGT,CAAW,IPHhB,AOGK,CAAgB,CPHC,SOGA,IAAD,EAAoB;APFrC,AKSZ,AENI,WFMC,IAAI,AENE,CFMD,ELTQ,CKSL,AENE,CFMD,AENE,EAAL,GFMQ,EENI,EPHM,AOGzB,CFMU,CAAW,CLTO,SAAS,CAAC,AKS5B,GAAyB,CAA1B,CLTmB,CAAgB,EKSJ,KAAK,ELTQ,CAAC,CKS1D,EAAuD,CAAC,ELTxB,CAApB,AKS+C,OAA3D,EAAoE,CAAC,EAArE,EAAyE;AJxCjF,AIyCY,AENH,ONnCT,AMiCqB,CNjCrB,AMiCQ,GHcJ,SH/CJ,GAAA,MG+CU,KCLM,CJ1ChB,II0CqB,KAAL,CAAW,OAAX,CAAmB,CAAnB,CADJ;ALRQ,AIeZ,ACPI,UDOE,ECPM,EAAR,EDOQ,EJfI,CIeD,QAAQ,CAAC,CJfZ,EAAiB,CIed,CAAc,ICPjB,EAAR,GDOW,CAAwB,CAAxB,CAAf;AJdgB,AIehB,ACRI,AEJJ,IN/BK,MG2CC,AGZF,EFIY,CDQP,CGZT,EPHgB,AIeJ,AGZF,CFIN,GDQY,KJfS,AIeT,CJfU,AIeV,IJfA,CAAe,MAAf,CAAsB,CIe1B,CAAkB,ACRd,GLPA,CAA4B,CKOxC,GLPY,AIec,CAAA,CJfoB,CAAC,SIerB,CAAY,CJfoB,CAAC,CAAD,CAAZ,CAAlC,EIec,CAAoB,KAApB,EAA2B,MAA3B,CAAlB,CAAZ;AJda,AIeb,ACTI,AEHA,QAAA,EHYE,ECTiB,AEHf,CAAC,IAAL,GHYY,AGZA,GHYe,CGZ3B,EHY8B,ACT9B,CDS+B,OAAJ,CAAY,MAAZ,CAA/B,OCTuB,cAAnB;ALLK,AIgBT,ACXI,AEFH,WHaI,CCXkC,CLX/B,GIsBR,CAAW,CCXP,CLLW,MIgBf,CAAoB,MAAM,CAAC,MAAD,CAA1B,CCXuC,MAAnC;ALJQ,AIiBZ,ACbI,AEDP,WHcQ,CCb0C,ELJnC,MKIR,EDaJ,CJjBqB,AIiBJ,CJjBK,IAAV,CAAe,MAAf,CIiBZ,EAAgC,KAAK,ACbU,KDaf,CAAW,ECbvC,SDa4B,CAAuB,QAAvB,EAAhC;AJhBS,AIiBT,ACdI,WDcC,CCdoD,IAArD,MDcJ,CAAiB,OAAjB,EAA0B,OCd+B,GDcrB,CAAC,ACdjC,KDcJ;AACA,ACfI,WDeC,CCf0D,IAA3D,MDeJ,CAAiB,SAAjB,EAA4B,KCfmC,IAA3D,CDekC,CAAC,OAAvC;AJhBQ,AIiBR,WAAK,WAAL,CAAiB,UAAjB,EAA6B,KAAK,WAAL,CAAiB,UAAU,CAAC,QAA5B,CAA7B;AJhBK,AIkBL,AChBI,WDgBC,EChBI,OAAL,CDgBJ,qCCdI,CAAC,IAAD,GAAQ,UAAR,GAAqB,cAFrB,wMAMsB,EANtB,gBAM6B,KAN7B,2KASqE,cATrE,+NAc2C,IAd3C,6EAe4C,MAf5C,6EAgB4C,QAhB5C;ALDH,AIkBJ,ACII;AL5CA,AOpCT,OAAA,CAAA,OAAA,GAAA,KAAA;APoCS,AK6CD,WAAK,WAAL,CAAiB,WAAjB,EAA8B,KAAK,OAAL,EAA9B;AL7CC,AK8CD,WAAK,WAAL,CAAiB,WAAjB,EAA8B,MAAM,CAAC,KAAK,KAAL,CAAW,QAAZ,CAApC;AL9CC,AK+CD,EDjDoC,MAAA,CAAA,ECiD/B,WAAL,CAAiB,WAAjB,EAA8B,MAAM,CAAC,KAAK,KAAL,CAAW,QAAZ,CAApC;AL/CC,AKiDD,WJ9DJ,AI8DS,UAAL,OJ9DI,EAAR,EAAkB;AACd,ADmCH,AIzBL,ACoDK,ODpDL,CAAA,KHVe,EGUf,GHVoB,AGUpB,UHVe,EAAP,EGUR;AHTK;;;EIKqC,MAAA,CAAA;EJRP;ADrBnC,AK6BA,OL7BA,AK6BA,CL7BA,AK6BA,OL7BA,AK6BA,GL7BA,AK6BA,ML7BA,MK6BA;AJRA,OAAA,CAAA,aAAA,GAAA,aAAA","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from '../types';\r\nimport View from './view';\r\n\r\nexport default class Router {\r\n    private isStart: boolean;\r\n    private routeTable: RouteInfo[];\r\n    private defaultRoute: RouteInfo | null;\r\n\r\n    constructor() {\r\n        window.addEventListener('hashchange', this.route.bind(this));\r\n\r\n        this.isStart = false;\r\n        this.routeTable = [];\r\n        this.defaultRoute = null;\r\n    }\r\n\r\n    setDefaultPage(page: View, params: RegExp | null = null): void {\r\n        this.defaultRoute = {\r\n            path: '',\r\n            page,\r\n            params,\r\n        };\r\n    }\r\n\r\n    addRoutePath(path: string, page: View, params: RegExp | null = null): void {\r\n        this.routeTable.push({\r\n            path, //프로퍼티의 스키마와 값이 같은경우 생략\r\n            page,\r\n            params,\r\n        });\r\n\r\n        if (!this.isStart) {\r\n            this.isStart = true;\r\n\r\n            setTimeout(this.route.bind(this), 0);\r\n        }\r\n    }\r\n\r\n    route() {\r\n        const routePath: string = location.hash;\r\n\r\n        if (routePath === '' && this.defaultRoute) {\r\n            this.defaultRoute.page.render();\r\n            return;\r\n        }\r\n\r\n        for (const routeInfo of this.routeTable) {\r\n            if (routePath.indexOf(routeInfo.path) >= 0) {\r\n                if (routeInfo.params) {\r\n                    const parseParams = routePath.match(routeInfo.params);\r\n\r\n                    if (parseParams) {\r\n                        routeInfo.page.render.apply(null, [parseParams[1]]);\r\n                    }\r\n                } else {\r\n                    routeInfo.page.render();\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NewsFeeds, NewsDetail } from '../types';\r\nexport class Api {\r\n    ajax: XMLHttpRequest;\r\n    url: string;\r\n\r\n    constructor(url: string) {\r\n        this.ajax = new XMLHttpRequest();\r\n        this.url = url;\r\n    }\r\n    //외부에서 hint가 나오지않음 (protected)\r\n    protected getRequest<AjaxResponse>(): AjaxResponse {\r\n        this.ajax.open('GET', this.url, false);\r\n        this.ajax.send();\r\n\r\n        return JSON.parse(this.ajax.response);\r\n    }\r\n}\r\n\r\nexport class NewsFeedsApi extends Api {\r\n    getData(): NewsFeeds[] {\r\n        return this.getRequest<NewsFeeds[]>();\r\n    }\r\n}\r\n\r\nexport class NewsDetailApi extends Api {\r\n    getData(id: string): NewsDetail {\r\n        return this.getRequest<NewsDetail>();\r\n    }\r\n}\r\n","export const NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\r\nexport const CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\r\n","//View Classes\r\nexport default abstract class View {\r\n    private template: string; //원본\r\n    private renderTemplate: string;\r\n    private root: HTMLElement;\r\n    private htmlArr: string[];\r\n\r\n    constructor(rootId: string, template: string) {\r\n        const rootElement = document.getElementById(rootId);\r\n\r\n        if (!rootElement) {\r\n            throw 'Undefined root Element';\r\n        }\r\n\r\n        this.root = rootElement;\r\n        this.template = template;\r\n        this.renderTemplate = template;\r\n        this.htmlArr = [];\r\n    }\r\n\r\n    protected updateView(): void {\r\n        this.root.innerHTML = this.renderTemplate;\r\n        this.renderTemplate = this.template;\r\n    }\r\n\r\n    protected setTemplate(key: string, value: string): void {\r\n        this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n    }\r\n\r\n    protected addHtml(htmlStr: string): void {\r\n        this.htmlArr.push(htmlStr);\r\n    }\r\n\r\n    protected getHtml(): string {\r\n        const snapshot: string = this.htmlArr.join('');\r\n        this.clearHtmlArr();\r\n\r\n        return snapshot;\r\n    }\r\n\r\n    private clearHtmlArr(): void {\r\n        this.htmlArr = [];\r\n    }\r\n\r\n    abstract render(): void;\r\n}\r\n","import { NewsDetailApi } from '../core/api';\r\nimport { CONTENT_URL } from '../config';\r\nimport { NewsComment, NewsDetail, NewsFeeds, NewsStore } from '../types';\r\nimport View from '../core/view';\r\n\r\nconst template: string = `\r\n        <div class=\"bg-gray-600 min-h-screen pb-8\">\r\n            <div class=\"bg-white text-xl\">\r\n                <div class=\"mx-auto px-4\">\r\n                <div class=\"flex justify-between items-center py-6\">\r\n                    <div class=\"flex justify-start\">\r\n                        <h1 class=\"font-extrabold\">\r\n                            <a href=\"#\">Hacker News</a>\r\n                        </h1>\r\n                    </div>\r\n                    <div class=\"items-center justify-end\">\r\n                        <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n                            <i class=\"fa fa-times\"></i>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\r\n                <h2>{{__title__}}</h2>\r\n                <div class=\"text-gray-400 h-20\">\r\n                {{__content__}}\r\n                </div>\r\n\r\n                {{__comments__}}\r\n\r\n            </div>\r\n        </div>\r\n        `;\r\n\r\nexport default class NewsDetailView extends View {\r\n    private store: NewsStore;\r\n\r\n    constructor(rootId: string, store: NewsStore) {\r\n        super(rootId, template);\r\n\r\n        this.store = store;\r\n    }\r\n\r\n    private makeComment(comments: NewsComment[]): string {\r\n        comments.map(comment => {\r\n            this.addHtml(`\r\n                <div style=\"margin-left: ${comment.level * 40}px;\" class=\"mt-4\">\r\n                    <div class=\"text-gray-400\">\r\n                        <i class=\"fa fa-sort-up mr-2\"></i>\r\n                        <strong>${comment.user}</strong> ${comment.time_ago}\r\n                    </div>\r\n                    <p class=\"text-gray-700\">${comment.content}</p>\r\n                </div>\r\n            `);\r\n\r\n            if (comment.comments.length > 0) {\r\n                this.addHtml(this.makeComment(comment.comments));\r\n            }\r\n        });\r\n\r\n        return this.getHtml();\r\n    }\r\n\r\n    render() {\r\n        const hashId = location.hash.substring(7);\r\n        const api = new NewsDetailApi(CONTENT_URL.replace('@id', hashId));\r\n        const newsDetail: NewsDetail = api.getData(hashId);\r\n\r\n        this.store.makeRead(Number(hashId));\r\n\r\n        this.setTemplate('currentPage', this.store.currentPage.toString());\r\n        this.setTemplate('title', newsDetail.title);\r\n        this.setTemplate('content', newsDetail.content);\r\n        this.setTemplate('comments', this.makeComment(newsDetail.comments));\r\n\r\n        this.updateView();\r\n    }\r\n}\r\n","import View from '../core/view';\r\nimport { NewsFeeds, NewsStore } from '../types';\r\nimport { NewsFeedsApi } from '../core/api';\r\nimport { NEWS_URL } from '../config';\r\n\r\nconst template: string = `\r\n        <div class=\"bg-gray-600 min-h-screen\">\r\n            <div class=\"bg-white text-xl\">\r\n                <div class=\"mx-auto px-4\">\r\n                    <div class=\"flex justify-between items-center py-6\">\r\n                        <div class=\"flex justify-start\">\r\n                            <h1 class=\"font-extrabold\">\r\n                                <a href=\"#\">Hacker News</a>\r\n                            </h1>\r\n                        </div>\r\n                        <div class=\"items-center justify-end\">\r\n                            <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\r\n                                Previous\r\n                            </a>\r\n                            <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\r\n                                Next\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"p-4 text-2xl text-gray-700\">\r\n                {{__news_list__}}\r\n            </div>\r\n        </div>\r\n         `;\r\n\r\nexport default class NewsFeedView extends View {\r\n    private api: NewsFeedsApi;\r\n    private list: number;\r\n    private store: NewsStore;\r\n\r\n    constructor(rootId: string, list: number, store: NewsStore) {\r\n        super(rootId, template);\r\n\r\n        this.store = store;\r\n        this.api = new NewsFeedsApi(NEWS_URL);\r\n        this.list = list;\r\n\r\n        if (!this.store.hasFeed) {\r\n            this.store.setFeeds(this.api.getData());\r\n        }\r\n    }\r\n\r\n    render(): void {\r\n        this.store.currentPage = Number(location.hash.substring(7) || 1);\r\n        const listCnt: number = this.store.numberOfFeed;\r\n        const maxList: number =\r\n            this.store.currentPage * this.list > listCnt\r\n                ? listCnt\r\n                : this.store.currentPage * this.list;\r\n        const maxPage: number = Math.ceil(listCnt / this.list);\r\n\r\n        for (let i = (this.store.currentPage - 1) * this.list; i < maxList; i++) {\r\n            const { id, title, comments_count, points, time_ago, user, read } =\r\n                this.store.getFeed(i);\r\n            this.addHtml(`\r\n        <div class=\"p-6 ${\r\n            !read ? 'bg-white' : 'bg-green-500'\r\n        } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n            <div class=\"flex\">\r\n            <div class=\"flex-auto\">\r\n                <a href=\"#/show/${id}\">${title}</a>  \r\n            </div>\r\n            <div class=\"text-center text-sm\">\r\n                <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n            </div>\r\n            </div>\r\n            <div class=\"flex mt-3\">\r\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n                <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n                <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n                <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\r\n            </div>  \r\n            </div>\r\n        </div>    \r\n        `);\r\n        }\r\n        this.setTemplate('news_list', this.getHtml());\r\n        this.setTemplate('prev_page', String(this.store.prevPage));\r\n        this.setTemplate('next_page', String(this.store.nextPage));\r\n\r\n        this.updateView();\r\n    }\r\n}\r\n","export { default as NewsDetailView } from './news-detail-view';\r\nexport { default as NewsFeedView } from './news-feed-view';\r\n","import { NewsFeeds, NewsStore } from './types';\r\n\r\nexport default class Store implements NewsStore {\r\n    private feeds: NewsFeeds[];\r\n    private _currentPage: number;\r\n\r\n    constructor() {\r\n        this.feeds = [];\r\n        this._currentPage = 1;\r\n    }\r\n\r\n    get currentPage(): number {\r\n        return this._currentPage;\r\n    }\r\n\r\n    set currentPage(page: number) {\r\n        if (page <= 0) return;\r\n        this._currentPage = page;\r\n    }\r\n\r\n    get nextPage(): number {\r\n        return this._currentPage + 1;\r\n    }\r\n\r\n    get prevPage(): number {\r\n        return this._currentPage > 1 ? this._currentPage - 1 : 1;\r\n    }\r\n\r\n    get numberOfFeed(): number {\r\n        return this.feeds.length;\r\n    }\r\n\r\n    get hasFeed(): boolean {\r\n        return this.feeds.length > 0;\r\n    }\r\n\r\n    getAllFeeds(): NewsFeeds[] {\r\n        return this.feeds;\r\n    }\r\n\r\n    getFeed(position: number): NewsFeeds {\r\n        return this.feeds[position];\r\n    }\r\n\r\n    setFeeds(feeds: NewsFeeds[]): void {\r\n        this.feeds = feeds.map((feed: NewsFeeds): NewsFeeds => {\r\n            return { ...feed, read: false };\r\n        });\r\n    }\r\n\r\n    makeRead(id: number): void {\r\n        const feed = this.feeds.find((feed: NewsFeeds) => {\r\n            return feed.id === id;\r\n        });\r\n\r\n        if (feed) {\r\n            feed.read = true;\r\n        }\r\n    }\r\n}\r\n","import Router from './core/router';\r\nimport { NewsDetailView, NewsFeedView } from './page';\r\nimport Store from './store';\r\n\r\nconst store = new Store();\r\nconst router: Router = new Router();\r\nconst newsFeedView: NewsFeedView = new NewsFeedView('root', 8, store);\r\nconst newsDetailView: NewsDetailView = new NewsDetailView('root', store);\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\nrouter.addRoutePath('/page/', newsFeedView, /page\\/(\\d+)/);\r\nrouter.addRoutePath('/show/', newsDetailView, /show\\/(\\d+)/);\r\n\r\nrouter.route();\r\n"]}